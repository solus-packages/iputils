From cc322e5a3d04834d0fbfa9421e42dd1bb58d862f Mon Sep 17 00:00:00 2001
From: Silke Hofstra <silke@slxh.eu>
Date: Sun, 8 Mar 2020 18:26:28 +0100
Subject: [PATCH] Rename ping to iputils-ping

---
 doc/arping.xml      | 2 +-
 doc/clockdiff.xml   | 2 +-
 doc/ninfod.xml      | 2 +-
 doc/ping.xml        | 8 ++++----
 doc/rdisc.xml       | 2 +-
 doc/tracepath.xml   | 2 +-
 doc/traceroute6.xml | 2 +-
 meson.build         | 4 ++--
 ping_common.c       | 4 ++--
 9 files changed, 14 insertions(+), 14 deletions(-)

diff --git a/doc/arping.xml b/doc/arping.xml
index 711718f..8c4364b 100644
--- a/doc/arping.xml
+++ b/doc/arping.xml
@@ -228,7 +228,7 @@ xml:id="man.arping">
     <title>SEE ALSO</title>
     <para>
     <citerefentry>
-      <refentrytitle>ping</refentrytitle>
+      <refentrytitle>iputils-ping</refentrytitle>
       <manvolnum>8</manvolnum>
     </citerefentry>,
     <citerefentry>
diff --git a/doc/clockdiff.xml b/doc/clockdiff.xml
index 24d1943..07ddf3b 100644
--- a/doc/clockdiff.xml
+++ b/doc/clockdiff.xml
@@ -124,7 +124,7 @@ xml:id="man.clockdiff">
     <title>SEE ALSO</title>
     <para>
     <citerefentry>
-      <refentrytitle>ping</refentrytitle>
+      <refentrytitle>iputils-ping</refentrytitle>
       <manvolnum>8</manvolnum>
     </citerefentry>,
     <citerefentry>
diff --git a/doc/ninfod.xml b/doc/ninfod.xml
index 081d470..93b13d7 100644
--- a/doc/ninfod.xml
+++ b/doc/ninfod.xml
@@ -117,7 +117,7 @@ xml:id="man.ninfod">
     </info>
     <para>
     <citerefentry>
-      <refentrytitle>ping</refentrytitle>
+      <refentrytitle>iputils-ping</refentrytitle>
       <manvolnum>8</manvolnum>
     </citerefentry>.</para>
   </refsection>
diff --git a/doc/ping.xml b/doc/ping.xml
index b5cea9c..7ce62f1 100644
--- a/doc/ping.xml
+++ b/doc/ping.xml
@@ -1,14 +1,14 @@
 <refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
-xml:id="man.ping">
+xml:id="man.iputils-ping">
 
   <refentryinfo>
-    <title>ping</title>
+    <title>iputils-ping</title>
     <productname>iputils</productname>
   </refentryinfo>
 
   <refmeta>
     <refentrytitle>
-      <application>ping</application>
+      <application>iputils-ping</application>
     </refentrytitle>
     <manvolnum>8</manvolnum>
     <refmiscinfo class='manual'>iputils</refmiscinfo>
@@ -22,7 +22,7 @@ xml:id="man.ping">
 
   <refsynopsisdiv>
     <cmdsynopsis sepchar=" ">
-      <command>ping</command>
+      <command>iputils-ping</command>
       <arg choice="opt" rep="norepeat">
         <option>-aAbBdDfhLnOqrRUvV46</option>
       </arg>
diff --git a/doc/rdisc.xml b/doc/rdisc.xml
index ab1c673..d93b1f1 100644
--- a/doc/rdisc.xml
+++ b/doc/rdisc.xml
@@ -231,7 +231,7 @@ xml:id="man.rdisc">
       <manvolnum>7</manvolnum>
     </citerefentry>,
     <citerefentry>
-      <refentrytitle>ping</refentrytitle>
+      <refentrytitle>iputils-ping</refentrytitle>
       <manvolnum>8</manvolnum>
     </citerefentry>.</para>
   </refsection>
diff --git a/doc/tracepath.xml b/doc/tracepath.xml
index d1bdcd8..a227fb9 100644
--- a/doc/tracepath.xml
+++ b/doc/tracepath.xml
@@ -199,7 +199,7 @@ root@mops:~ # tracepath -6 3ffe:2400:0:109::2
       <manvolnum>8</manvolnum>
     </citerefentry>,
     <citerefentry>
-      <refentrytitle>ping</refentrytitle>
+      <refentrytitle>iputils-ping</refentrytitle>
       <manvolnum>8</manvolnum>
     </citerefentry>.</para>
   </refsect1>
diff --git a/doc/traceroute6.xml b/doc/traceroute6.xml
index 5a72784..f239167 100644
--- a/doc/traceroute6.xml
+++ b/doc/traceroute6.xml
@@ -78,7 +78,7 @@ xml:id="man.traceroute6">
       <manvolnum>8</manvolnum>
     </citerefentry>,
     <citerefentry>
-      <refentrytitle>ping</refentrytitle>
+      <refentrytitle>iputils-ping</refentrytitle>
       <manvolnum>8</manvolnum>
     </citerefentry>.</para>
   </refsect1>
diff --git a/meson.build b/meson.build
index 50df973..880daec 100644
--- a/meson.build
+++ b/meson.build
@@ -245,13 +245,13 @@ libcommon = static_library(
 	install : false)
 
 if build_ping == true
-	executable('ping', ['ping.c', 'ping_common.c', 'ping6_common.c', git_version_h],
+	executable('iputils-ping', ['ping.c', 'ping_common.c', 'ping6_common.c', git_version_h],
 		dependencies : [m_dep, cap_dep, idn_dep, intl_dep, crypto_dep, resolv_dep],
 		link_with : [libcommon],
 		install: true)
 	meson.add_install_script('build-aux/setcap-setuid.sh',
 		join_paths(get_option('prefix'), get_option('bindir')),
-		'ping',
+		'iputils-ping',
 		perm_type,
 		setcap_path
 	)
diff --git a/ping_common.c b/ping_common.c
index 9fbaf9d..bb45f4f 100644
--- a/ping_common.c
+++ b/ping_common.c
@@ -102,7 +102,7 @@ void usage(void)
 {
 	fprintf(stderr,
 		"\nUsage\n"
-		"  ping [options] <destination>\n"
+		"  iputils-ping [options] <destination>\n"
 		"\nOptions:\n"
 		"  <destination>      dns name or ip address\n"
 		"  -a                 use audible ping\n"
@@ -141,7 +141,7 @@ void usage(void)
 		"  -6                 use IPv6\n"
 		"  -F <flowlabel>     define flow label, default is random\n"
 		"  -N <nodeinfo opt>  use icmp6 node info query, try <help> as argument\n"
-		"\nFor more details see ping(8).\n"
+		"\nFor more details see iputils-ping(8).\n"
 	);
 	exit(2);
 }
-- 
2.25.1

